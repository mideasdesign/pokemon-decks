<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pok√©mon GraphQL Search</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2rem; }
    img { max-width: 200px; }
    .pokemon-card { border: 1px solid #ccc; padding: 1rem; border-radius: 12px; display: inline-block; }
  </style>
</head>
<body>
  <h1>üîç Pok√©mon Suche (GraphQL)</h1>
  <input type="text" id="search" placeholder="z.‚ÄØB. Pikachu" />
  <button onclick="searchPokemon()">Suchen</button>

  <div id="result" class="pokemon-card" style="margin-top:2rem;"></div>

  <script>
    async function searchPokemon() {
      const name = document.getElementById('search').value.trim();
      const resultEl = document.getElementById('result');
      resultEl.innerHTML = '‚è≥ Suche...';

      const query = `
        query {
          pokemon(name: "${name}") {
            name
            image
            types
            attacks {
              special {
                name
                damage
              }
            }
          }
        }
      `;

      const response = await fetch('https://graphql-pokemon2.vercel.app', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ query })
      });

      const data = await response.json();
      const pokemon = data.data.pokemon;

      if (!pokemon) {
        resultEl.innerHTML = `‚ùå Kein Pok√©mon mit dem Namen "${name}" gefunden.`;
        return;
      }

      resultEl.innerHTML = `
        <h2>${pokemon.name}</h2>
        <img src="${pokemon.image}" alt="${pokemon.name}" />
        <p><strong>Typen:</strong> ${pokemon.types.join(', ')}</p>
        <h3>‚ö° Spezial-Attacken:</h3>
        <ul>
          ${pokemon.attacks.special.map(att => `<li>${att.name} (${att.damage} Schaden)</li>`).join('')}
        </ul>
      `;
    }
  </script>
</body>
</html>